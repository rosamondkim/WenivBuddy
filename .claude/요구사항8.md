# 질문

1. 카테고리를 나눈 이유는 “Git 관련 자주 묻는 질문만 모아서 내일 특강 준비하고 싶다” 같은 사용 시나리오가 가능해지기 위함이었어. 그러나 카테고리를 질문할때 클릭하는건 불필요해. 질문할때 카테고리를 선택하지 않게 할거야. Git / Node / React / 환경설정 / FE … 같은 토픽을 모델이 추정해 category 필드에 넣게 해줘

2. '반복되는 질문 감지' 기능 및 UI는 삭제해줘
3. 학생들이 에러 화면을 캡처해서 올리면, 서버에서 OCR을 돌려 텍스트를 추출하고, 이 텍스트를 기반으로 검색이 가능하게 만들고 싶어.

4. 이미지 OCR 기능에 대해서 보완을 할거야.이미지를 파일 업로드가 아닌 '붙여넣기' 형태로 입력하고, 검색하기 버튼을 누르면 OCR 이후 해당 키워드로 검색이 되게끔 수정해줘

5. 질문 페이지에서만 할 일
   사용자가 이미지를 붙여넣으면 “이미지 1장 첨부됨” + 썸네일만 보여주기
   내부적으로는 그냥 이미지 파일/Blob만 들고 있음
   “텍스트 추출 중…” 같은 로딩은 아예 안 띄움
   입력창에는 옵션으로 사용자가 직접 키워드를 적을 수 있게 하고
   “이미지에서 텍스트 자동 추출 예정” 정도만 안내

사용자가 “검색하기” 버튼을 누르면

현재 입력된 텍스트 + 첨부 이미지 파일을 한 번에 서버로 보냄

동시에 검색 결과 페이지로 바로 이동해서 지루하지 않게 위처럼 구현해줘

# 답변

1. 이미지 업로드 및 OCR 기능 추가 ✅

UI 추가:

- components/question-input.jsx 대폭 개선
  - 이미지 업로드 버튼 추가
  - 업로드된 이미지 미리보기
  - OCR 처리 중 로딩 상태 표시
  - 에러 메시지 표시

API 엔드포인트:

- app/api/ocr/route.js 생성
  - OpenAI GPT-4o-mini Vision API 사용
  - 이미지를 base64로 인코딩하여 전송
  - 에러 메시지, 코드, 경로 등 정확하게 추출
  - 들여쓰기 유지하여 코드 추출

사용 흐름:

1. 학생이 에러 화면 캡처 업로드
2. 서버에서 GPT-4o-mini Vision API로 OCR 처리
3. 추출된 텍스트가 자동으로 질문 입력란에 추가
4. 해당 텍스트로 검색 가능

## 주요 특징

적절한 카테고리 자동 배정

- OCR 지원: 에러 화면 이미지만 업로드하면 자동으로 텍스트 추출 및 검색
